(this.webpackJsonpcookbook=this.webpackJsonpcookbook||[]).push([[0],{118:function(e,n,t){"use strict";t.r(n);var i,r=t(0),a=t.n(r),o=t(27),c=t.n(o),s=t(14),l=t(173),d=t(174),u=t(175),j=t(176),b=t(125),m=t(177),p=t(168),f=t(18),h=t(4),O=Object(h.a)("div")(i||(i=Object(f.a)(["\n  .list-header {\n    margin-top: 15px;\n    margin-bottom: 5px;\n    font-weight: 600;\n  }\n  \n  .list {\n    padding: 10px;\n    background-color: rgba(112,171,240,.1);\n    border-radius: 4px;\n    list-style-type: none;\n  }\n  \n  .list-item {\n    &:not(:last-child) {\n      margin-bottom: 5px;\n\n      &::first-letter {\n        text-transform: uppercase;\n      }\n    }\n  }\n  \n  .cook-time {\n    margin-top: 16px;\n  }\n  \n  .label {\n    font-weight: 600;\n  }\n"]))),g=t(85),x=t(2);function v(e){var n;return Object(x.jsx)(O,{children:Object(x.jsxs)(l.a,{children:[Object(x.jsxs)(d.a,{children:[Object(x.jsx)(u.a,{component:"div",alt:"cookbook recipe",children:Object(x.jsx)(g.a,{src:e.cardData.imageUrl,width:"100%",height:"240px",duration:700,shift:"top",distance:"20px",shiftDuration:400,easing:"ease-in",fit:"cover",bgColor:"inherit"})}),Object(x.jsxs)(j.a,{children:[Object(x.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"div",align:"left",children:e.cardData.name}),Object(x.jsx)("div",{className:"list-header",children:"Ingredients"}),Object(x.jsxs)("div",{className:"list",children:[null===(n=e.cardData.ingredients)||void 0===n?void 0:n.slice(0,4).map((function(e){return Object(x.jsx)("div",{className:"list-item",children:e},"ingred"+e)})),4<e.cardData.ingredients.length?Object(x.jsx)("li",{children:"and more..."}):""]}),Object(x.jsxs)("div",{className:"cook-time",children:[Object(x.jsx)("div",{className:"label",children:"Cook Time:"})," ",e.cardData.time]})]})]}),Object(x.jsxs)(m.a,{children:[Object(x.jsx)(p.a,{size:"small",color:"primary",children:"View more"}),Object(x.jsx)(p.a,{size:"small",color:"primary",onClick:function(){return e.onEditClick(e.cardData.id)},children:"Edit"}),Object(x.jsx)(p.a,{size:"small",color:"warning",onClick:function(){return e.onDeleteRecipe(e.cardData.id)},children:"Delete"})]})]})})}var w=t(167),C=t(24),k=t(40),y=t(8),A=t(15),I=t(164),N={data:[{id:Object(I.a)(),name:"Baker soup",imageUrl:"https://pbs.twimg.com/media/Cs30RK-UkAAvl3V.jpg",ingredients:["potato","tomato","bachato with parrots","brocoli","onion"],time:"1h 30min",servings:2,steps:"Maecenas culpa elit rhoncus sagittis hymenaeos consequatur facere ipsum dignissimos! Sollicitudin, suspendisse, asperiores inventore quos, commodo repellat veniam! Alias dictum! Curabitur taciti ipsa! Nostrud."},{id:Object(I.a)(),name:"Bolognese pasta",imageUrl:"https://tmbidigitalassetsazure.blob.core.windows.net/rms3-prod/attachments/37/1200x1200/Beef-Bolognese-with-Linguine_EXPS_FT21_130403_F_0423_1.jpg",ingredients:["potato","tomato","bachato","brocoli","onion"],time:"1h 30min",servings:4,steps:"Maecenas culpa elit rhoncus sagittis hymenaeos consequatur facere ipsum dignissimos! Sollicitudin, suspendisse, asperiores inventore quos, commodo repellat veniam! Alias dictum! Curabitur taciti ipsa! Nostrud."},{id:Object(I.a)(),name:"French fries",imageUrl:"https://www.thespruceeats.com/thmb/IHKuXcx3uUI1IWkM_cnnQdFH-zQ=/3485x2323/filters:fill(auto,1)/how-to-make-homemade-french-fries-2215971-hero-01-02f62a016f3e4aa4b41d0c27539885c3.jpg",ingredients:["potato","tomato","bachato","brocoli","onion"],time:"1h 30min",servings:4,steps:"Maecenas culpa elit rhoncus sagittis hymenaeos consequatur facere ipsum dignissimos! Sollicitudin, suspendisse, asperiores inventore quos, commodo repellat veniam! Alias dictum! Curabitur taciti ipsa! Nostrud."},{id:Object(I.a)(),name:"Home burger",imageUrl:"https://live.staticflickr.com/5058/5519067595_6fe442ee19_b.jpg",ingredients:["potato","tomato","bachato","brocoli","onion"],time:"1h 30min",servings:2,steps:"Maecenas culpa elit rhoncus sagittis hymenaeos consequatur facere ipsum dignissimos! Sollicitudin, suspendisse, asperiores inventore quos, commodo repellat veniam! Alias dictum! Curabitur taciti ipsa! Nostrud."}],nextId:Object(I.a)()};var S,R,D={getRecipesAPI:function(){return new Promise((function(e){setTimeout((function(){e(Object(A.a)(N.data))}),1e3)}))},deleteRecipeAPI:function(e){return new Promise((function(n,t){setTimeout((function(){var i=Math.floor(5*Math.random())+1,r=N.data.find((function(n){return n.id===e}));if(3===i)return t("Assume that API call has failed and this is the error");if(r){var a=N.data.indexOf(r);return N.data.splice(a,1),n(!0)}t("Id of element to be deleted has not been found")}),1500)}))},createRecipeAPI:function(e){return new Promise((function(n,t){setTimeout((function(){var t=Object(y.a)(Object(y.a)({},e),{},{id:N.nextId});N.data=[].concat(Object(A.a)(N.data),[t]),N.nextId=Object(I.a)(),n()}),1500)}))},editRecipeAPI:function(e){return new Promise((function(n,t){setTimeout((function(){var i=JSON.parse(JSON.stringify(e)),r=N.data.find((function(e){return e.id===i.id}));if(r){var a=N.data.indexOf(r);N.data[a]=i,n(!0)}else t("Something went wrong. Please try again")}),1500)}))}},P=Object(k.b)({name:"errorAlert",initialState:{value:""},reducers:{setErrorAlert:function(e,n){e.value=n.payload}}}),F=P.actions.setErrorAlert,T=Object(k.b)({name:"recipes",initialState:{value:[]},reducers:{setRecipesRd:function(e,n){e.value=n.payload}}}),U=T.actions.setRecipesRd,q=function(e){return function(n){D.getRecipesAPI().then((function(t){n(U(t)),e&&e()}))}},B=t(170),E=t(171),_=t(172),z=t(160),L=function(e){var n=Object(r.useState)(!1),t=Object(s.a)(n,2),i=t[0],a=t[1],o=Object(C.b)(),c=function(){e.onClose()};return Object(x.jsxs)(B.a,{open:e.open,onClose:e.onClose,children:[Object(x.jsx)(E.a,{children:Object(x.jsx)(z.a,{severity:"error",sx:{width:"100"},children:"Are you sure you want to delete this recipe ?"})}),Object(x.jsxs)(_.a,{children:[i?Object(x.jsx)(w.a,{}):"",Object(x.jsx)(p.a,{disabled:i,onClick:c,children:"Cancel"}),Object(x.jsx)(p.a,{disabled:i,autoFocus:!0,color:"error",onClick:function(){a(!0);var n,t;o((n=e.itemId,t=function(){a(!1),c()},function(e){D.deleteRecipeAPI(n).then((function(n){n&&q(t)(e)}),(function(n){e(F(n)),t&&t()}))}))},children:"Delete recipe"})]})]})},M=Object(h.a)("div")(S||(S=Object(f.a)(["\n  margin: 0 auto;\n\n  .cards {\n    width: 100%;\n    \n    &.loaded {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      gap: 3rem;\n    }\n\n    &.isLoading {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n    }\n    \n    & > div {\n      width: 300px;\n    }\n  }\n\n  .button-wrap {\n    margin: 24px 0;\n    display: flex;\n    justify-content: center;\n  }\n\n  @media (min-width: 640px) {\n    .cards.loaded {\n      gap: 2.5rem;\n    }\n  }\n\n  @media (min-width: 768px) {\n    .cards.loaded {\n      flex-direction: row;\n      flex-wrap: wrap;\n    }\n\n    .cards > div {\n      width: 320px;\n      margin-bottom: initial;\n    }\n  }\n\n  @media (min-width: 1024px) {\n  }\n\n  @media (min-width: 1536px) {\n  }\n"]))),J=t(5),H=t(158),W=t(159),K=t(33),Q=t(84),V=t.n(Q),X=Object(h.a)("div")(R||(R=Object(f.a)(['\n  width: 100%;\n  height: 150px;\n  border-radius: 2px;\n  border: 1px solid #D2D2D2;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  \n  .icon {\n    position: absolute;\n    width: 24px;\n    height: 24px;\n    right: 10px;\n    top: 10px;\n    border-radius: 4px;\n    overflow: hidden;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:before {\n      content: "";\n      width: 100%;\n      height: 100%;\n      background-color: #303030;\n      opacity: 0.5;\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n    }\n\n    svg {\n      z-index: 2;\n    }\n  }\n  \n  input[type=file] {\n    display: none;\n  }\n'])));function G(e){var n=Object(r.useState)(null),t=Object(s.a)(n,2),i=t[0],a=t[1],o=Object(r.useRef)();return Object(x.jsxs)(X,{style:{backgroundImage:"url(".concat(i||e.imageUrl,")")},children:[e.imageUrl||i?"":Object(x.jsx)(b.a,{variant:"h5",align:"center",children:"No image selected"}),Object(x.jsx)("div",{className:"icon",onClick:function(){var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.click()},children:Object(x.jsx)(V.a,{htmlColor:"#FFF"})}),Object(x.jsx)("input",{type:"file",ref:o,onChange:function(n){var t=n.target.files[0],i=new FileReader;i.onloadend=function(){a(i.result),e.onImageLoaded(i.result)},t&&i.readAsDataURL(t),n.stopPropagation()}})]})}var Y=r.memo(G),Z={required:{value:!0,message:"This field is required"},maxLength:{value:80,message:"Text is too long!"}},$="ingredients",ee="ingredientName",ne=t.p+"static/media/close-x.0e2fb083.svg";var te=function(e){var n=e.fields,t=e.control,i=e.errors,r=e.remove;return Object(x.jsx)(x.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e,n){return Object(x.jsx)(K.a,{control:t,name:"".concat($,".").concat(n,".").concat(ee),rules:Z,render:function(e){var t,a,o,c,s,l=e.field;return Object(x.jsxs)("div",{className:"input-wrap",children:[Object(x.jsx)(W.a,Object(y.a)(Object(y.a)({label:"Recipe name",variant:"outlined",size:"small"},l),{},{error:Boolean(null===(t=i.ingredients)||void 0===t||null===(a=t[n])||void 0===a?void 0:a.ingredientName),helperText:null===(o=i.ingredients)||void 0===o||null===(c=o[n])||void 0===c||null===(s=c.ingredientName)||void 0===s?void 0:s.message})),Object(x.jsx)("img",{src:ne,onClick:function(){return r(n)}})]})}},e.id)}))})};var ie,re=function(e){var n=e.name,t=e.label,i=e.control,r=e.errors;return Object(x.jsx)(K.a,{name:n,control:i,rules:Z,render:function(e){var i,a=e.field;return Object(x.jsx)(W.a,Object(y.a)(Object(y.a)({label:t,variant:"standard"},a),{},{error:Boolean(r[n]),helperText:null===(i=r[n])||void 0===i?void 0:i.message}))}})},ae=Object(h.a)("form")(ie||(ie=Object(f.a)(["\n  .short-inputs {\n    display: flex;\n    flex-direction: column;\n    margin: 2.25rem 0;\n    gap: 2.25rem;\n  }\n\n  .input-wrap {\n    margin-bottom: 1rem;\n\n    img {\n      height: 20px;\n      width: 20px;\n      cursor: pointer;\n      margin-left: 0.9rem;\n      margin-top: 0.58rem;\n    }\n\n    .Mui-error {\n      margin-left: 0;\n    }\n  }\n\n  @media (min-width: 640px) {\n    .short-inputs {\n      flex-direction: row;\n    }\n  }\n"])));var oe=function(e){var n=e.onClose,t=e.recipeData,i=e.open,a=Object(r.useState)(null),o=Object(s.a)(a,2),c=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(s.a)(d,2),j=u[0],m=u[1],f=Object(C.b)(),h=Object(r.useCallback)((function(){return n()}),[n]),O=Object(r.useCallback)((function(e){return l(e)}),[]),g=Object(K.c)(),v=g.control,k=g.reset,A=g.handleSubmit,I=Object(K.d)({control:v}).errors,N=Object(K.b)({control:v,name:$}),S=N.fields,R=N.append,P=N.remove,T=function(e){var n,i,r,a,o=Object(y.a)(Object(y.a)({imageUrl:c||"https://st3.depositphotos.com/13324256/17303/i/1600/depositphotos_173034766-stock-photo-woman-writing-down-recipe.jpg"},e),{},Object(J.a)({},$,null===(n=e.ingredients)||void 0===n?void 0:n.map((function(e){return e.ingredientName})))),s=function(){m(!1),h()},l=function(){return m(!1)};m(!0),(null===t||void 0===t?void 0:t.id)?(o.id=null===t||void 0===t?void 0:t.id,f((i=o,r=s,a=l,function(e){D.editRecipeAPI(i).then((function(){return q(r)(e)}),(function(n){e(F(n)),a()}))}))):f(function(e,n,t){return function(i){D.createRecipeAPI(e).then((function(){return q(n)(i)}),(function(e){i(F(e)),t()}))}}(o,s,l))};return Object(r.useEffect)((function(){if(i||(k(Object(J.a)({name:"",servings:"",time:"",steps:""},$,[Object(J.a)({},ee,"")])),l(null)),i&&(null===t||void 0===t?void 0:t.id)){var e=t.name,n=t.servings,r=t.time,a=t.steps,o=t.ingredients,c=t.imageUrl;k(Object(J.a)({name:e,servings:n,time:r,steps:a},$,o.map((function(e){return Object(J.a)({},ee,e)})))),l(c)}}),[i,null===t||void 0===t?void 0:t.id,t]),Object(x.jsxs)(B.a,{maxWidth:"lg",onClose:function(){return!j&&n()},open:i,children:[Object(x.jsx)(H.a,{children:"Add new recipe"}),Object(x.jsx)(E.a,{children:Object(x.jsxs)(ae,{children:[Object(x.jsx)(b.a,{variant:"h6",children:"Add Image"}),Object(x.jsx)(Y,{imageUrl:c,onImageLoaded:O}),Object(x.jsxs)("div",{className:"short-inputs",children:[Object(x.jsx)(re,{name:"name",label:"Recipe name",errors:I,control:v}),Object(x.jsx)(re,{name:"servings",label:"Nr. of servings (100g)",errors:I,control:v}),Object(x.jsx)(re,{name:"time",label:"Cooking time",errors:I,control:v})]}),Object(x.jsx)(te,{fields:S,control:v,errors:I,remove:P}),Object(x.jsx)(p.a,{variant:"outlined",onClick:function(){return R(Object(J.a)({},ee,""))},children:"Add new ingredient"}),Object(x.jsx)(K.a,{name:"steps",control:v,rules:Z,render:function(e){var n,t=e.field;return Object(x.jsx)(W.a,Object(y.a)(Object(y.a)({label:"Preparation steps",variant:"outlined",sx:{mt:"35px"},rows:"4",multiline:!0,fullWidth:!0},t),{},{error:Boolean(I.steps),helperText:null===(n=I.steps)||void 0===n?void 0:n.message}))}})]})}),Object(x.jsxs)(_.a,{children:[j?Object(x.jsx)(w.a,{}):"",Object(x.jsx)(p.a,{disabled:j,onClick:h,children:"Cancel"}),Object(x.jsx)(p.a,{disabled:j,autoFocus:!0,onClick:function(){return A(T)()},children:(null===t||void 0===t?void 0:t.id)?"Edit recipe":"Create recipe"})]})]})};var ce=function(e){return e.open,Object(x.jsxs)(B.a,{maxWidth:"lg",onClose:function(){},open:!1,children:[Object(x.jsx)(H.a,{children:"Recipe name"}),Object(x.jsx)(E.a,{})]})};function se(){var e=Object(r.useState)(!0),n=Object(s.a)(e,2),t=n[0],i=n[1],a=Object(r.useState)(!1),o=Object(s.a)(a,2),c=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(s.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(null),f=Object(s.a)(m,2),h=f[0],O=f[1],g=Object(r.useState)(null),k=Object(s.a)(g,2),y=k[0],A=k[1],I=Object(C.b)(),N=Object(C.c)((function(e){return e.recipes.value}));Object(r.useEffect)((function(){I(q((function(){return i(!1)})))}),[]);var S=Object(r.useCallback)((function(){O(null),b(!1)}),[]),R=Object(r.useCallback)((function(e){var n=N.find((function(n){return n.id===e}));(n=n&&JSON.parse(JSON.stringify(n)))&&A(n),l(!0)}),[N]);return Object(x.jsxs)(M,{children:[Object(x.jsx)("div",{className:"button-wrap",children:Object(x.jsx)(p.a,{variant:"contained",disabled:t,onClick:function(){return l(!0)},children:"Create new recipe"})}),Object(x.jsx)("div",{className:"cards ".concat(N&&!t?"loaded":"isLoading"),children:N&&!t?function(e){return e.map((function(e){return Object(x.jsx)(v,{cardData:e,onEditClick:R,onDeleteRecipe:function(){return n=e.id,O(n),void b(!0);var n}},"RecipeCard"+e.id)}))}(N):Object(x.jsx)(w.a,{})}),Object(x.jsx)(oe,{open:c,recipeData:y,onClose:function(){l(!1),A(null)}}),Object(x.jsx)(L,{open:j,onClose:S,itemId:h}),Object(x.jsx)(ce,{})]})}var le=t(163);var de=function(){var e=Object(C.c)((function(e){return e.errorAlert.value})),n=Object(C.b)(),t=function(){n(F(""))};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(se,{}),Object(x.jsx)(le.a,{open:!!e,autoHideDuration:6e3,onClose:t,children:Object(x.jsx)(z.a,{onClose:t,severity:"error",sx:{width:"100%"},children:e})})]})},ue=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,178)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),i(e),r(e),a(e),o(e)}))},je=Object(k.a)({reducer:{recipes:T.reducer,errorAlert:P.reducer}});c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(C.a,{store:je,children:Object(x.jsx)(de,{})})}),document.getElementById("root")),ue()}},[[118,1,2]]]);
//# sourceMappingURL=main.2e622c88.chunk.js.map